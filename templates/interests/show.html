{% extends "user/base.html" %}

{% block content %}
{% load staticfiles %}
{% load customtags %}

<!-- TODO: (maybe?) CLEAN THIS UP WITH CSS INSTEAD OF BUFFER ROWS -->


<div class="row">
	<div class="col-sm-4"></div>
	<div class="col-sm-6">
		<div class="input-group">
			<input type="text" class="form-control" placeholder="Search">
			<span class "input-group-btn">
				<button class="btn btn-success" type="button">Add</button>
			</span>
		</div>
	</div>
	<div class="col-sm-2"></div>
</div>

<div class="buffer-row"></div>

<div class="row">
	<div class="col-sm-2"></div>
	<div class="col-sm-1">
		<div class="btn-group-vertical" data-toggle="buttons">
			<label class="btn btn-success active">
    			<input type="radio" autocomplete="off" id="academics" checked> Academics
  			</label>
  			<label class="btn btn-success">
    			<input type="radio" autocomplete="off" id="exracurriculars"> Extracurriculars
  			</label>
  			<label class="btn btn-success">
    			<input type="radio" autocomplete="off" id="athleics"> Athletics
  			</label>
  			<label class="btn btn-success">
    			<input type="radio" autocomplete="off" id="social"> Social Life
  			</label>
  		</div>
	</div>
	<div class="col-sm-1"></div>

	<ul class="col-sm-4 panel panel-default panel-body">
		{% for interest in i_list.children %} 
		    {%include "interests/interest_template.html" %}
		{% endfor %}
	</ul>
	
	<div class="col-sm-2 panel panel-default">
		<ul class="panel-body" id="interest-name-list"></ul>
	</div>

	<div class="col-sm-2"></div>

</div>



<script> 
	var interestlist = []

	UpdateInterestList = function() {
		$('#interest-name-list').empty()
		$.each(interestlist, function(i, val) {
			$('#interest-name-list').append($('<li/>').text(val.name))
		});
	}

	AddToInterestList = function(interest) {
		interestlist = interestlist.concat(interest)
		UpdateInterestList()
	}

	ButtonClick = function(interest) {
		AddToInterestList(interest)
	}

	user_interests = {{user_interests|safe}}

	user_interests.forEach(function(interest) {
		AddToInterestList(interest)		
	})

	$(".selectbtn").click(function(element) {
		jsn = JSON.parse(element.toElement.firstElementChild.textContent)
		AddToInterestList(jsn)
	})



</script>




{% endblock %}